<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <title>Множинні інтелекти за Гарднером</title>
  <style>
    html, body {
      margin: 0; padding: 0;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, 'SF Pro Text', sans-serif;
      background: linear-gradient(to bottom, #f2f2f7, #ffffff);
      color: #000;
      padding: 1rem;
      box-sizing: border-box;
      -webkit-font-smoothing: antialiased;
    }
    h1 {
      font-size: 1.5rem;
      margin-bottom: 1rem;
      font-weight: 600;
      text-align: center;
    }
    label {
      display: block;
      margin-top: 1rem;
      font-weight: 600;
      font-size: 1rem;
    }
    input, select {
      width: 100%;
      padding: 0.75rem;
      margin-top: 0.5rem;
      border-radius: 12px;
      border: 1px solid #d1d1d6;
      background-color: #ffffff;
      font-size: 1rem;
      box-shadow: inset 0 0 3px rgba(0, 0, 0, 0.05);
    }
    button, .option {
      background-color: #007aff;
      color: #fff;
      padding: 0.75rem 1.5rem;
      border: none;
      border-radius: 16px;
      font-size: 1rem;
      margin-top: 2rem;
      cursor: pointer;
      width: 100%;
      box-shadow: 0 2px 6px rgba(0, 122, 255, 0.3);
      transition: background-color 0.3s ease;
      user-select: none;
      text-align: center;
    }
    button:hover, .option:hover {
      background-color: #0051a8;
    }
    .option {
      margin-top: 1rem;
      background-color: #f9f9f9;
      color: #000;
      box-shadow: none;
      border: 1px solid #e5e5ea;
      border-radius: 12px;
    }
    .option:hover {
      background-color: #007aff;
      color: #fff;
      font-weight: 600;
    }
    #timer {
      font-weight: bold;
      color: #ff3b30;
      margin-top: 1rem;
      font-size: 1.2rem;
      text-align: center;
    }
    #questionsContainer {
      margin-top: 1.5rem;
      background-color: #ffffff;
      border-radius: 20px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
      padding: 1rem;
      min-height: 140px;
      display: flex;
      flex-direction: column;
      justify-content: center;
    }
    canvas {
      margin-top: 2rem;
      background-color: #ffffff;
      border-radius: 20px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
      max-width: 100%;
    }
    #resultsInfo {
      margin-top: 1rem;
      background: #f0f0f5;
      border-radius: 16px;
      padding: 1rem;
      font-size: 0.9rem;
      line-height: 1.4;
      max-height: 400px;
      overflow-y: auto;
    }
    @media (max-width: 480px) {
      h1 {
        font-size: 1.25rem;
      }
      label, input, select, button, .option {
        font-size: 1rem;
      }
    }
  </style>
</head>
<body>
  <h1>Множинні інтелекти за Гарднером — опис, уподобання, особистий потенціал, пов’язані завдання та тести</h1>

  <form id="miForm">
    <label for="name">Ім’я та прізвище:</label>
    <input type="text" id="name" name="name" required />

    <label for="age">Вік:</label>
    <input type="number" id="age" name="age" min="5" max="100" required />

    <label for="sex">Стать:</label>
    <select id="sex" name="sex" required>
      <option value="female">Жіноча</option>
      <option value="male">Чоловіча</option>
    </select>

    <button type="submit">Почати тест</button>
  </form>

  <div id="timer"></div>
  <div id="questionsContainer" style="display:none"></div>

  <canvas id="resultChart" style="display:none"></canvas>
  <button id="downloadBtn" style="display:none">Завантажити графік</button>

  <div id="resultsInfo"></div>

  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script>
    const allQuestions = [
      "Мені подобається дізнаватися більше про себе",
      "Я вмію грати на музичному інструменті",
      "Найлегше вирішую проблеми, коли займаюся чимось фізичним",
      "У мене часто в голові звучить пісня або музичний твір",
      "Мені легко планувати бюджет і керувати грошима",
      "Мені легко вигадувати історії",
      "Я завжди мав/мала хорошу координацію",
      "Розмовляючи з кимось, я звертаю увагу не лише на сенс, а й на слова, які використовуються",
      "Я люблю кросворди, пошук слів або інші словесні головоломки",
      "Я не люблю неоднозначність, мені подобається ясність",
      "Мені подобаються логічні головоломки, наприклад судоку",
      "Я люблю медитувати",
      "Музика дуже важлива для мене",
      "Я переконливий/переконлива брехун/брехунка",
      "Я займаюся спортом або танцями",
      "Мене дуже цікавлять психометричні тести (тести особистості) та тести IQ",
      "Мене дратують люди, які поводяться нераціонально",
      "Музика, яка мені подобається, часто відповідає моєму емоційному стану",
      "Я дуже товариська людина і люблю бути серед людей",
      "Я люблю діяти системно та ретельно",
      "Мені легко розуміти графіки та діаграми",
      "Я добре кидаю речі — дротики, камінці, фрізбі тощо",
      "Мені легко запам’ятовувати цитати чи фрази",
      "Я завжди впізнаю місця, де вже бував/була, навіть у дитинстві",
      "Мені подобаються різні музичні стилі",
      "Коли я зосереджений/зосереджена, я часто щось малюю або креслю",
      "Я міг/могла б маніпулювати людьми, якби захотів/захотіла",
      "Я можу досить точно передбачити свої почуття та поведінку в певних ситуаціях",
      "Мені легко робити усні обчислення",
      "Я можу розпізнавати більшість звуків, не бачачи їх джерела",
      "У школі одним із моїх улюблених предметів була англійська мова",
      "Мені подобається обдумувати проблему, зважуючи всі наслідки",
      "Я люблю дебати та обговорення",
      "Я люблю екстремальні види спорту та страшні атракціони",
      "Мені більше подобаються індивідуальні види спорту",
      "Мені не байдуже, як почуваються люди навколо мене",
      "Мій дім повен фотографій та картин",
      "Я люблю щось майструвати — у мене вправні руки",
      "Мені подобається, коли музика звучить у фоновому режимі",
      "Я легко запам’ятовую телефонні номери",
      "Я ставлю собі цілі та плани на майбутнє",
      "Я дуже тактильна людина",
      "Я легко розумію, чи подобаюсь я комусь чи ні",
      "Я легко уявляю, як виглядає об’єкт з іншої точки зору",
      "Я ніколи не використовую інструкції для збирання меблів",
      "Мені легко спілкуватися з новими людьми",
      "Щоб навчитися чомусь новому, мені потрібно просто почати це робити",
      "Я часто бачу чіткі образи, коли заплющую очі",
      "Я не використовую пальці, коли рахую",
      "Я часто розмовляю сам/сама з собою — вголос або подумки",
      "У школі мені подобалися уроки музики",
      "За кордоном мені легко даються основи нової мови",
      "Я люблю й мені легко даються ігри з м’ячем",
      "Мій улюблений шкільний предмет — математика",
      "Я завжди знаю, як себе почуваю",
      "Я реалістично оцінюю свої сильні та слабкі сторони",
      "Я веду щоденник",
      "Я дуже уважний/уважна до мови тіла інших людей",
      "Мій улюблений предмет у школі — мистецтво",
      "Я отримую задоволення від читання",
      "Я легко читаю карти",
      "Мені боляче бачити, як хтось плаче, і не мати змоги допомогти",
      "Я добре вирішую конфлікти між іншими",
      "Я завжди мріяв/мріяла стати музикантом або співаком/співачкою",
      "Я надаю перевагу командним видам спорту",
      "Спів робить мене щасливим/щасливою",
      "Я ніколи не гублюся, навіть у незнайомому місці",
      "Коли я навчаюсь чомусь новому, мені подобається бачити схеми й малюнки",
      "Мені комфортно проводити час наодинці",
      "Друзі часто звертаються до мене за емоційною підтримкою та порадою"
    ];

    // Питання для віку <16: (номери -1 бо масив з 0)
    const questionIndexesUnder16 = [
      1, 3, 5, 6, 12, 13, 14, 18, 20, 22, 23, 25, 28, 30, 31, 33, 34, 39, 40, 42, 46, 47, 48, 50, 52, 53, 54, 56, 58, 59, 61, 64, 65, 68, 69
    ];

    const categories = {
      "Мовний (лінгвістичний)": [6, 8, 9, 14, 23, 31, 33, 50, 52, 60],
      "Логіко-математичний": [5, 10, 11, 17, 20, 29, 32, 40, 49, 54],
      "Музичний": [2, 4, 13, 18, 25, 30, 39, 51, 64, 66],
      "Тілесно-кінестетичний": [3, 7, 15, 22, 34, 38, 42, 45, 47, 53],
      "Просторово-візуальний": [21, 24, 26, 37, 44, 48, 59, 61, 67, 68],
      "Міжособистісний": [19, 27, 36, 43, 46, 58, 62, 63, 65, 70],
      "Внутрішньоособистісний": [1, 12, 16, 28, 35, 41, 55, 56, 57, 69]
    };

    // Інформація для виводу після результатів
    const categoriesInfo = {
      "Мовний (лінгвістичний)": {
        description: "Слова та мова, писемна і усна; запам’ятовування, інтерпретація та пояснення ідей і інформації через мову, розуміння зв’язку між спілкуванням і значенням.",
        roles: "Письменники, юристи, журналісти, оратори, тренери, копірайтери, викладачі англійської мови, поети, редактори, лінгвісти, перекладачі, PR-консультанти, медіа-консультанти, телеведучі та радіоведучі, диктори.",
        activities: "Написати набір інструкцій; виступити з промовою на тему; редагувати написаний текст або роботу; написати промову; коментувати подію; застосувати позитивне або негативне трактування до історії.",
        learning: "Слова та мова."
      },
      "Логіко-математичний": {
        description: "Логічне мислення, виявлення закономірностей, наукове мислення та дедукція; аналіз проблем, виконання математичних обчислень, розуміння зв’язку між причиною і наслідком для досягнення конкретного результату.",
        roles: "Науковці, інженери, комп’ютерні фахівці, бухгалтери, статистики, дослідники, аналітики, торговці, банкіри, букмекери, страхові брокери, переговорники, укладачі угод, фахівці з вирішення проблем, директори.",
        activities: "Виконати усні арифметичні обчислення; створити процес для вимірювання чогось складного; проаналізувати, як працює машина; розробити процес; розробити стратегію для досягнення мети; оцінити вартість бізнесу або пропозиції.",
        learning: "Числа та логіка."
      },
      "Музичний": {
        description: "Музичні здібності, усвідомлення, сприйняття та використання звуків; розпізнавання тональних і ритмічних візерунків, розуміння зв’язку між звуком і почуттям.",
        roles: "Музиканти, співаки, композитори, діджеї, музичні продюсери, настройники піаніно, акустичні інженери, артисти, організатори свят, консультанти з навколишнього середовища та шуму, вокальні тренери.",
        activities: "Виконувати музичний твір; співати пісню; рецензувати музичну роботу; навчати когось грати на музичному інструменті; підбирати фонову музику для телефонних систем і приймалень.",
        learning: "Музика, звуки, ритм."
      },
      "Тілесно-кінестетичний": {
        description: "Контроль рухів тіла, мануальна спритність, фізична гнучкість і рівновага; координація очей і тіла.",
        roles: "Танцюристи, демонстратори, актори, спортсмени, дайвери, військові, пожежники, інструктори з фізичної підготовки, артисти виконавці; ергономісти, остеопати, рибалки, водії, ремісники; садівники, кухарі, акупунктуристи, цілителі, авантюристи.",
        activities: "Жонглювати; демонструвати спортивну техніку; кидати підставку для пива; створювати мімічний виступ для пояснення чогось; підкидати млинець; запускати повітряного змія; навчати правильної робочої постави, оцінювати ергономіку робочого місця.",
        learning: "Фізичний досвід і рух, дотик і відчуття."
      },
      "Просторово-візуальний": {
        description: "Візуальне та просторове сприйняття; інтерпретація та створення візуальних образів; образне уявлення та вираження; розуміння зв’язку між образами і значеннями, а також між простором і ефектом.",
        roles: "Художники, дизайнери, мультиплікатори, сценаристи, архітектори, фотографи, скульптори, містобудівники, візіонери, винахідники, інженери, консультанти з косметики та краси.",
        activities: "Спроектувати костюм; інтерпретувати картину; створити план кімнати; розробити корпоративний логотип; спроектувати будівлю; упакувати валізу або багажник автомобіля.",
        learning: "Зображення, форми, образи, тривимірний простір."
      },
      "Міжособистісний": {
        description: "Сприйняття почуттів інших людей; здатність встановлювати зв’язок з іншими; інтерпретація поведінки та спілкування; розуміння взаємин між людьми та їхніми ситуаціями, включно з іншими людьми.",
        roles: "Терапевти, фахівці з людських ресурсів, медіатори, лідери, консультанти, політики, педагоги, продавці, духовенство, психологи, вчителі, лікарі, цілителі, організатори, доглядальники, фахівці з реклами, тренери та наставники.",
        activities: "Інтерпретувати настрій за виразами обличчя; демонструвати почуття за допомогою мови тіла; впливати на почуття інших цілеспрямовано; навчати або консультувати іншу людину.",
        learning: "Людський контакт, спілкування, співпраця, командна робота."
      },
      "Внутрішньоособистісний": {
        description: "Самосвідомість, особисте усвідомлення, особиста об’єктивність, здатність розуміти себе, свої взаємини з іншими і світом, а також власну потребу у змінах і реакцію на них.",
        roles: "Будь-хто, хто усвідомлює себе і бере участь у процесі зміни особистих думок, переконань і поведінки; подібність до рівня самоактуалізації за Маслоу; пов’язаний з емоційним інтелектом (EQ).",
        activities: "Розглянути і визначити власні цілі та необхідні особисті зміни для їх досягнення; розглянути власне 'Вікно Йогарі' та варіанти розвитку; розглянути власну позицію щодо моделі емоційного інтелекту.",
        learning: "Саморефлексія, самопізнання."
      }
    };

    const pointsForAnswers = [1, 2, 3, 4]; // 4 варіанти оцінки (наприклад від "майже ніколи" до "майже завжди")
    const answerOptions = [
      "Майже ніколи",
      "Іноді",
      "Часто",
      "Майже завжди"
    ];

    const form = document.getElementById("miForm");
    const questionsContainer = document.getElementById("questionsContainer");
    const timerEl = document.getElementById("timer");
    const resultChart = document.getElementById("resultChart");
    const resultsInfo = document.getElementById("resultsInfo");
    const downloadBtn = document.getElementById("downloadBtn");

    let age = 0;
    let currentQuestionIndex = 0;
    let questions = [];
    let scores = {}; // {category: sum of points}
    let timer;
    let timeLeft;

    // Початкове обнулення балів категорій
    for (const cat in categories) {
      scores[cat] = 0;
    }

    form.addEventListener("submit", (e) => {
      e.preventDefault();
      age = +form.age.value;

      // Вибір питань залежно від віку
      if (age < 16) {
        questions = questionIndexesUnder16.map(i => ({
          text: allQuestions[i],
          originalIndex: i
        }));
      } else {
        questions = allQuestions.map((q, i) => ({
          text: q,
          originalIndex: i
        }));
      }

      form.style.display = "none";
      questionsContainer.style.display = "block";
      showQuestion();
    });

    function showQuestion() {
      if (currentQuestionIndex >= questions.length) {
        finishTest();
        return;
      }
      const questionObj = questions[currentQuestionIndex];
      questionsContainer.innerHTML = `<div style="font-weight:600; font-size:1.1rem;">Питання ${currentQuestionIndex + 1} з ${questions.length}:</div><div style="margin-top:0.5rem;">${questionObj.text}</div>`;

      answerOptions.forEach((optionText, idx) => {
        const btn = document.createElement("button");
        btn.textContent = optionText;
        btn.classList.add("option");
        btn.type = "button";
        btn.addEventListener("click", () => {
          handleAnswer(idx + 1, questionObj.originalIndex);
        });
        questionsContainer.appendChild(btn);
      });

      startTimer();
    }

    function startTimer() {
      clearInterval(timer);
      timeLeft = 30;
      timerEl.textContent = `Час на відповідь: ${timeLeft} с`;
      timer = setInterval(() => {
        timeLeft--;
        timerEl.textContent = `Час на відповідь: ${timeLeft} с`;
        if (timeLeft <= 0) {
          clearInterval(timer);
          // Якщо не відповіли - вважаємо "Майже ніколи" (1 бал)
          handleAnswer(1, questions[currentQuestionIndex].originalIndex);
        }
      }, 1000);
    }

    function handleAnswer(point, originalIndex) {
      clearInterval(timer);

      // Додаємо очки до категорії
      for (const cat in categories) {
        if (categories[cat].includes(originalIndex + 1)) { // +1 бо категорії з 1-ої
          scores[cat] += point;
        }
      }

      currentQuestionIndex++;
      showQuestion();
    }

    function finishTest() {
      questionsContainer.style.display = "none";
      timerEl.textContent = "";

      // Показ результатів у вигляді графіку
      const labels = Object.keys(scores);
      const dataPoints = labels.map(label => scores[label]);

      resultChart.style.display = "block";
      if(window.chartInstance) {
        window.chartInstance.destroy();
      }
      window.chartInstance = new Chart(resultChart.getContext("2d"), {
        type: "bar",
        data: {
          labels,
          datasets: [{
            label: "Бали за категоріями",
            data: dataPoints,
            backgroundColor: [
              "#007aff",
              "#34c759",
              "#ff9500",
              "#ff3b30",
              "#5856d6",
              "#ff2d55",
              "#5ac8fa"
            ],
            borderRadius: 10
          }]
        },
        options: {
          indexAxis: "y",
          scales: {
            x: { beginAtZero: true }
          },
          plugins: {
            legend: { display: false }
          }
        }
      });

      // Показ інформації під графіком
      resultsInfo.innerHTML = "";
      labels.forEach(cat => {
        const info = categoriesInfo[cat];
        if (!info) return;
        const html = `
          <h3>${cat}</h3>
          <p><b>Опис:</b> ${info.description}</p>
          <p><b>Ролі:</b> ${info.roles}</p>
          <p><b>Активності:</b> ${info.activities}</p>
          <p><b>Навчання:</b> ${info.learning}</p>
          <hr>
        `;
        resultsInfo.insertAdjacentHTML("beforeend", html);
      });

      downloadBtn.style.display = "none"; // Як ти раніше просив, без завантаження
    }
  </script>
</body>
</html>
